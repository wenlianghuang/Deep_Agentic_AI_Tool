# Email Parlant 測試 Prompt 指南

## 🎯 測試目標

這些測試 prompt 設計用來驗證 Parlant 指南系統在郵件生成中的效果。重點測試：

1. **簽名佔位符**：是否使用 `[您的姓名]` 和 `[公司名稱]`
2. **語氣適配**：正式 vs 非正式
3. **結構完整性**：問候語、主體、結尾、簽名
4. **主題準確性**：是否具體反映內容

---

## ✅ 最推薦的測試 Prompt（按優先級）

### 🥇 測試 1：簽名佔位符（最明顯的差異）

**Prompt**：
```
寫一封感謝信給客戶，感謝他們長期以來的支持
```

**收件人**：`customer@example.com`

**檢查點**：
- ✅ **簽名部分是否包含 `[您的姓名]` 和 `[公司名稱]`**（這是最明顯的差異！）
- ✅ 是否沒有使用真實姓名或公司名
- ✅ 結構是否完整（問候語、主體、結尾、簽名）

**預期效果（使用 Parlant）**：
```
您好，

感謝您長期以來對我們的支持...

此致
敬禮

[您的姓名]
[公司名稱]
```

**對比（不使用 Parlant）**：
- 可能使用虛構姓名如 "張三"、"李四"
- 或直接省略簽名
- 或使用真實公司名

---

### 🥈 測試 2：語氣對比測試（最能看出指南效果）

#### 2A. 正式郵件

**Prompt**：
```
寫一封正式郵件給客戶，邀請他們參加下週三下午 2 點的產品發布會，地點在我們公司會議室
```

**收件人**：`client@company.com`

**檢查點**：
- ✅ 問候語是否正式（"尊敬的" 或 "Dear"）
- ✅ 語氣是否專業、正式
- ✅ 結尾是否正式（"此致敬禮" 或 "Best regards"）
- ✅ **主題是否具體**（不應該是 "郵件" 或 "Email"）

**預期主題**：類似 "邀請參加產品發布會" 或 "Product Launch Event Invitation"

#### 2B. 非正式郵件

**Prompt**：
```
寫一封非正式郵件給朋友，邀請他參加週末的聚會
```

**收件人**：`friend@example.com`

**檢查點**：
- ✅ 問候語是否非正式（"Hi" 或 "Hey"）
- ✅ 語氣是否輕鬆、友好
- ✅ 結尾是否隨意（"祝好" 或 "Cheers"）

**對比**：與 2A 對比，應該明顯看出語氣差異

---

### 🥉 測試 3：主題準確性測試

**Prompt**：
```
寫一封郵件，詢問客戶對我們新產品的反饋意見，並邀請他們參加下週的產品演示會，時間是週三下午 2 點，地點在我們公司會議室
```

**收件人**：`customer@example.com`

**檢查點**：
- ✅ **主題是否具體反映內容**（關鍵測試點）
- ✅ 主題是否不超過 50 個字
- ✅ 主題是否包含關鍵信息（產品反饋、演示會邀請）

**預期主題**：類似 "產品反饋與演示會邀請" 或 "Product Feedback & Demo Invitation"

**不應該**：籠統的 "郵件"、"Email"、"詢問"

---

## 📋 其他有用的測試 Prompt

### 測試 4：簡短提示測試

**Prompt**：
```
寫一封郵件
```

**收件人**：`recipient@example.com`

**檢查點**：
- ✅ 即使提示簡短，是否仍遵循指南
- ✅ 是否包含完整結構
- ✅ 是否使用佔位符

---

### 測試 5：複雜內容測試

**Prompt**：
```
寫一封郵件給合作夥伴，感謝他們在項目中的支持，並邀請他們參加下個月的慶祝活動，同時詢問他們對未來合作的看法
```

**收件人**：`partner@company.com`

**檢查點**：
- ✅ 是否涵蓋所有要點（感謝、邀請、詢問）
- ✅ 結構是否清晰
- ✅ 主題是否準確反映多個內容

---

### 測試 6：英文郵件測試

**Prompt**：
```
Write an email to a client thanking them for their support and inviting them to our product launch event next Wednesday at 2 PM
```

**收件人**：`client@company.com`

**檢查點**：
- ✅ 簽名是否使用 `[Your Name]` 和 `[Company Name]`
- ✅ 是否符合英文郵件習慣
- ✅ 主題是否準確

---

## 🔍 測試方法

### 方法 1：單次測試

1. 在 Gradio 界面切換到 "📧 Email Tool" 標籤
2. 輸入測試 prompt
3. 輸入收件人郵箱
4. 點擊 "📝 生成郵件草稿"
5. 檢查生成的郵件是否符合預期

### 方法 2：對比測試

1. 先測試不使用 Parlant 的版本（需要臨時註釋掉指南導入）
2. 再測試使用 Parlant 的版本
3. 對比兩者的差異

### 方法 3：檢查清單

對每個生成的郵件，檢查以下項目：

- [ ] **簽名佔位符**：包含 `[您的姓名]` 和 `[公司名稱]`（中文）或 `[Your Name]` 和 `[Company Name]`（英文）
- [ ] **問候語**：根據關係和語氣選擇適當的問候語
- [ ] **結尾**：適當的結尾（正式或非正式）
- [ ] **主題**：具體、準確、不超過 50 字
- [ ] **結構**：包含問候語、主體、結尾、簽名
- [ ] **語氣**：符合要求（正式/非正式）

---

## 📊 預期差異總結

### 使用 Parlant 指南後，您應該看到：

1. **簽名一致性**：所有郵件都使用佔位符，不會出現真實姓名
2. **語氣適配性**：正式和非正式郵件的語氣明顯不同
3. **主題準確性**：主題具體反映內容，不會是籠統的 "郵件"
4. **結構完整性**：所有郵件都包含完整的結構元素

### 不使用 Parlant 指南時，可能出現：

1. 簽名可能使用虛構姓名或直接省略
2. 語氣可能不夠適配（正式郵件太隨意，或非正式郵件太正式）
3. 主題可能過於籠統
4. 結構可能不完整

---

## 🚀 快速測試流程

1. **啟動應用**：
   ```bash
   python Deep_Agent_Gradio_RAG_localLLM_main.py
   ```

2. **打開 Email Tool 標籤**

3. **使用測試 1（簽名佔位符）**：
   - Prompt: `寫一封感謝信給客戶，感謝他們長期以來的支持`
   - 收件人: `test@example.com`
   - **重點檢查**：簽名部分是否包含 `[您的姓名]` 和 `[公司名稱]`

4. **使用測試 2A（正式郵件）**：
   - Prompt: `寫一封正式郵件給客戶，邀請他們參加下週三下午 2 點的產品發布會`
   - **重點檢查**：語氣是否正式，主題是否具體

5. **使用測試 2B（非正式郵件）**：
   - Prompt: `寫一封非正式郵件給朋友，邀請他參加週末的聚會`
   - **重點檢查**：語氣是否非正式，與 2A 對比差異

---

## 💡 提示

- 如果第一次測試結果不理想，可以多次測試，因為 LLM 可能有隨機性
- 觀察反思評估結果，看看 AI 是否識別出需要改進的地方
- **最明顯的差異會在簽名部分**：使用 Parlant 後應該總是看到 `[您的姓名]` 和 `[公司名稱]`

---

## 🎯 最關鍵的測試（推薦先做這個）

**Prompt**：
```
寫一封感謝信給客戶
```

**收件人**：`customer@example.com`

**檢查**：直接看郵件末尾的簽名部分
- ✅ **應該看到**：`[您的姓名]` 和 `[公司名稱]`
- ❌ **不應該看到**：真實姓名、虛構姓名、或沒有簽名

這是**最明顯、最容易驗證**的 Parlant 效果！

---

**祝測試順利！** 🎉
