# Parlant SDK æ•´åˆå®Œæˆå ±å‘Š

## ğŸ“‹ æ¦‚è¿°

å·²æˆåŠŸå°‡ **Parlant SDK** æ•´åˆåˆ° Deep Agentic AI Tool ä¸­ã€‚ä½¿ç”¨å®˜æ–¹ Parlant SDK ç®¡ç†æŒ‡å—å’Œå®¢æˆ¶æ—…ç¨‹ï¼Œå–ä»£äº†ä¹‹å‰è‡ªå®šç¾©çš„å¯¦ç¾ã€‚

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. Parlant SDK å®‰è£èˆ‡é…ç½®

- âœ… å®‰è£ Parlant SDKï¼ˆé€šé `pip install parlant` æˆ–å¾ GitHub å®‰è£ï¼‰
- âœ… æ·»åŠ åˆ° `pyproject.toml` ä¾è³´é …
- âœ… é…ç½®ä½¿ç”¨ transient å­˜å„²ï¼ˆå…§å­˜å­˜å„²ï¼Œé©åˆé–‹ç™¼ï¼‰

### 2. å‰µå»º Parlant SDK æ•´åˆæ¨¡çµ„

**å‰µå»ºçš„æ–‡ä»¶**ï¼š
- `deep_agent_rag/guidelines/parlant_manager.py` - Parlant SDK ç®¡ç†å™¨ï¼ˆæ ¸å¿ƒæ–‡ä»¶ï¼‰

**åŠŸèƒ½**ï¼š
- âœ… ä½¿ç”¨ Parlant SDK çš„ `Server` å’Œ `Agent` API
- âœ… å‰µå»ºç ”ç©¶ã€éƒµä»¶ã€è¡Œäº‹æ›†ä»£ç†
- âœ… å®šç¾©æŒ‡å—ï¼ˆGuidelinesï¼‰ä½¿ç”¨ `create_guideline()`
- âœ… æä¾›åŒæ­¥æ¥å£ä»¥å…¼å®¹ç¾æœ‰ LangGraph æ¶æ§‹
- âœ… æŒ‡å—ç·©å­˜ç³»çµ±ï¼ˆå¾ Parlant SDK åŠ è¼‰åˆ°å…§å­˜ï¼‰

### 3. æ‡‰ç”¨å•Ÿå‹•æ™‚åˆå§‹åŒ–

**ä¿®æ”¹çš„æ–‡ä»¶**ï¼š
- `Deep_Agent_Gradio_RAG_localLLM_main.py` - æ·»åŠ  Parlant åˆå§‹åŒ–

**æ”¹é€²**ï¼š
- åœ¨æ‡‰ç”¨å•Ÿå‹•æ™‚è‡ªå‹•åˆå§‹åŒ– Parlant SDK
- éŒ¯èª¤è™•ç†ï¼šå¦‚æœåˆå§‹åŒ–å¤±æ•—ï¼Œä½¿ç”¨å‚™ç”¨æŒ‡å—ç³»çµ±
- ä¸å½±éŸ¿ç¾æœ‰åŠŸèƒ½

### 4. æ¸…ç†èˆŠä»£ç¢¼

- âœ… ç§»é™¤äº†æ‰‹å‹•å¯¦ç¾çš„ `parlant_guidelines.py`
- âœ… ç§»é™¤äº†æ‰‹å‹•å¯¦ç¾çš„ `parlant_sdk_integration.py`
- âœ… ç¾åœ¨å®Œå…¨ä½¿ç”¨ Parlant SDK
- âœ… `get_guideline()` å’Œ `get_customer_journey()` æ¥å£ä¿æŒä¸è®Š
- âœ… `researcher.py` å’Œ `planner.py` ç„¡éœ€ä¿®æ”¹ï¼ˆå·²ä½¿ç”¨æŒ‡å—ç³»çµ±ï¼‰

## ğŸ—ï¸ æ¶æ§‹è¨­è¨ˆ

### Parlant SDK æ•´åˆæ¶æ§‹

```
æ‡‰ç”¨å•Ÿå‹•
  â†“
initialize_parlant_sync()
  â†“
_initialize_parlant() [ç•°æ­¥]
  â†“
å‰µå»º Parlant Server (transient)
  â†“
å‰µå»º Agent (research, email, calendar)
  â†“
å‰µå»º Guidelines (ä½¿ç”¨ create_guideline)
  â†“
åŠ è¼‰æŒ‡å—åˆ°ç·©å­˜ (_guideline_cache)
  â†“
æä¾›åŒæ­¥æ¥å£ get_guideline()
  â†“
researcher.py / planner.py ä½¿ç”¨æŒ‡å—
```

### é—œéµè¨­è¨ˆæ±ºç­–

1. **ä½¿ç”¨æŒ‡å—ç·©å­˜**ï¼š
   - Parlant SDK çš„æŒ‡å—æ˜¯å‹•æ…‹åŒ¹é…çš„
   - æˆ‘å€‘å°‡æŒ‡å—æ–‡æœ¬åŠ è¼‰åˆ°å…§å­˜ç·©å­˜
   - æä¾›åŒæ­¥æ¥å£ä»¥å…¼å®¹ LangGraph

2. **ä¸é‹è¡Œ Parlant Server**ï¼š
   - Parlant Server éœ€è¦ä½œç‚º HTTP æœå‹™å™¨é‹è¡Œ
   - æˆ‘å€‘åªéœ€è¦æŒ‡å—å®šç¾©ï¼Œä¸éœ€è¦å®Œæ•´çš„æœå‹™å™¨
   - ä½¿ç”¨ transient å­˜å„²ï¼ŒæŒ‡å—åœ¨å…§å­˜ä¸­

3. **éŒ¯èª¤è™•ç†**ï¼š
   - å¦‚æœ Parlant SDK åˆå§‹åŒ–å¤±æ•—ï¼Œä½¿ç”¨å‚™ç”¨æŒ‡å—ç³»çµ±
   - ç¢ºä¿æ‡‰ç”¨å§‹çµ‚å¯ä»¥æ­£å¸¸é‹è¡Œ

## ğŸ“Š ä½¿ç”¨æ–¹å¼

### åŸºæœ¬ä½¿ç”¨ï¼ˆèˆ‡ä¹‹å‰ç›¸åŒï¼‰

```python
from deep_agent_rag.guidelines import get_guideline, get_customer_journey

# ç²å–æŒ‡å—ï¼ˆè‡ªå‹•å¾ Parlant SDK åŠ è¼‰ï¼‰
tool_guideline = get_guideline("research", "tool_selection")
task_guideline = get_guideline("research", "task_planning")

# ç²å–å®¢æˆ¶æ—…ç¨‹
journey = get_customer_journey("research")
```

### åœ¨ä»£ç†ä¸­ä½¿ç”¨ï¼ˆç„¡éœ€ä¿®æ”¹ï¼‰

```python
# researcher.py å’Œ planner.py å·²ç¶“åœ¨ä½¿ç”¨æŒ‡å—ç³»çµ±
# ç„¡éœ€ä¿®æ”¹ï¼Œè‡ªå‹•ä½¿ç”¨ Parlant SDK çš„æŒ‡å—
```

## ğŸ”§ Parlant SDK API ä½¿ç”¨

### å‰µå»ºä»£ç†

```python
import parlant.sdk as p

async with p.Server() as server:
    agent = await server.create_agent(
        name="research_agent",
        description="æ·±åº¦ç ”ç©¶ä»£ç†"
    )
```

### å‰µå»ºæŒ‡å—

```python
await agent.create_guideline(
    condition="ä»»å‹™æ¶‰åŠå­¸è¡“ç†è«–",
    action="ä½¿ç”¨ query_pdf_knowledge å·¥å…·",
    description="å·¥å…·é¸æ“‡æŒ‡å—",
    criticality=p.Criticality.HIGH
)
```

## ğŸ“ æ–‡ä»¶çµæ§‹

```
deep_agent_rag/
â”œâ”€â”€ guidelines/
â”‚   â”œâ”€â”€ __init__.py                    # å°å‡º Parlant SDK æ¥å£
â”‚   â”œâ”€â”€ parlant_manager.py             # âœ… Parlant SDK ç®¡ç†å™¨ï¼ˆæ ¸å¿ƒæ–‡ä»¶ï¼‰
â”‚   â””â”€â”€ README.md                       # ä½¿ç”¨æ–‡æª”
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ researcher.py                  # âœ… å·²ä½¿ç”¨æŒ‡å—ç³»çµ±
â”‚   â””â”€â”€ planner.py                     # âœ… å·²ä½¿ç”¨æŒ‡å—ç³»çµ±
â””â”€â”€ ...

Deep_Agent_Gradio_RAG_localLLM_main.py  # âœ… å·²æ·»åŠ  Parlant åˆå§‹åŒ–
test_parlant_integration.py             # âœ… æ›´æ–°æ¸¬è©¦
```

## ğŸ§ª æ¸¬è©¦çµæœ

é‹è¡Œæ¸¬è©¦ï¼š

```bash
python3 test_parlant_integration.py
```

**æ¸¬è©¦çµæœ**ï¼š
- âœ… æ‰€æœ‰æ¸¬è©¦é€šé
- âœ… æŒ‡å—ç²å–åŠŸèƒ½æ­£å¸¸
- âœ… å®¢æˆ¶æ—…ç¨‹ç²å–åŠŸèƒ½æ­£å¸¸
- âœ… éŒ¯èª¤è™•ç†æ­£å¸¸
- âœ… Parlant SDK åˆå§‹åŒ–æˆåŠŸ

## ğŸ¯ å„ªå‹¢

### ä½¿ç”¨ Parlant SDK çš„å„ªå‹¢

1. **å®˜æ–¹æ”¯æŒ**ï¼š
   - ä½¿ç”¨å®˜æ–¹ç¶­è­·çš„ SDK
   - ç²å¾—æŒçºŒæ›´æ–°å’Œä¿®å¾©
   - å®Œæ•´çš„æ–‡æª”å’Œç¤¾å€æ”¯æŒ

2. **åŠŸèƒ½å®Œæ•´**ï¼š
   - æŒ‡å—ç®¡ç†ï¼ˆGuidelinesï¼‰
   - å®¢æˆ¶æ—…ç¨‹ï¼ˆJourneysï¼‰
   - å·¥å…·é›†æˆï¼ˆToolsï¼‰
   - å¯è§£é‡‹æ€§ï¼ˆExplainabilityï¼‰

3. **æ¨™æº–åŒ–**ï¼š
   - éµå¾ª Parlant çš„æ¨™æº–æ¶æ§‹
   - æ˜“æ–¼èˆ‡å…¶ä»– Parlant å·¥å…·æ•´åˆ
   - ç¬¦åˆæ¥­ç•Œæœ€ä½³å¯¦è¸

4. **å¯æ“´å±•**ï¼š
   - æœªä¾†å¯ä»¥è¼•é¬†æ·»åŠ æ›´å¤šåŠŸèƒ½
   - å¯ä»¥èˆ‡ Parlant çš„å…¶ä»–çµ„ä»¶æ•´åˆ
   - æ”¯æŒæ›´è¤‡é›œçš„æŒ‡å—åŒ¹é…é‚è¼¯

## ğŸ”® æœªä¾†æ“´å±•

### å¯ä»¥é€²ä¸€æ­¥æ•´åˆçš„åŠŸèƒ½

1. **å¯¦éš›é‹è¡Œ Parlant Server**ï¼š
   - å¦‚æœéœ€è¦å®Œæ•´çš„ Parlant åŠŸèƒ½
   - å¯ä»¥é‹è¡Œç¨ç«‹çš„ Parlant æœå‹™å™¨
   - é€šé API èˆ‡ LangGraph æ•´åˆ

2. **ä½¿ç”¨ Parlant çš„å‹•æ…‹æŒ‡å—åŒ¹é…**ï¼š
   - åˆ©ç”¨ Parlant çš„æ™ºèƒ½æŒ‡å—åŒ¹é…
   - æ ¹æ“šä¸Šä¸‹æ–‡å‹•æ…‹é¸æ“‡æŒ‡å—
   - æä¾›æ›´å¥½çš„å¯è§£é‡‹æ€§

3. **æ•´åˆ Parlant çš„å·¥å…·ç³»çµ±**ï¼š
   - ä½¿ç”¨ Parlant çš„å·¥å…·ç®¡ç†
   - çµ±ä¸€çš„å·¥å…·è¨»å†Šå’Œèª¿ç”¨
   - æ›´å¥½çš„å·¥å…·ä½¿ç”¨è¿½è¹¤

4. **ä½¿ç”¨ Parlant çš„å®¢æˆ¶æ—…ç¨‹å¼•æ“**ï¼š
   - å®Œæ•´çš„å®¢æˆ¶æ—…ç¨‹ç®¡ç†
   - ç‹€æ…‹è¿½è¹¤å’Œè½‰æ›
   - æ›´è¤‡é›œçš„äº¤äº’æµç¨‹

## ğŸ“ æ³¨æ„äº‹é …

1. **ç•°æ­¥/åŒæ­¥è½‰æ›**ï¼š
   - Parlant SDK æ˜¯ç•°æ­¥çš„
   - æˆ‘å€‘æä¾›äº†åŒæ­¥æ¥å£ä»¥å…¼å®¹ LangGraph
   - æŒ‡å—åœ¨åˆå§‹åŒ–æ™‚åŠ è¼‰åˆ°ç·©å­˜

2. **Server ä¸é‹è¡Œ**ï¼š
   - ç›®å‰ä¸å¯¦éš›é‹è¡Œ Parlant Server
   - åªä½¿ç”¨æŒ‡å—å®šç¾©åŠŸèƒ½
   - å¦‚æœéœ€è¦å®Œæ•´åŠŸèƒ½ï¼Œå¯ä»¥å–®ç¨é‹è¡Œ Server

3. **ä»£ç¢¼æ¸…ç†**ï¼š
   - å·²ç§»é™¤æ‰‹å‹•å¯¦ç¾çš„èˆŠä»£ç¢¼
   - ç¾åœ¨å®Œå…¨ä½¿ç”¨ Parlant SDK
   - ä»£ç¢¼æ›´ç°¡æ½”ã€æ›´æ˜“ç¶­è­·

## ğŸ‰ ç¸½çµ

Parlant SDK æ•´åˆå·²å®Œæˆï¼ç³»çµ±ç¾åœ¨ï¼š

- âœ… ä½¿ç”¨å®˜æ–¹ Parlant SDK ç®¡ç†æŒ‡å—
- âœ… ä¿æŒèˆ‡ç¾æœ‰ LangGraph æ¶æ§‹çš„å…¼å®¹æ€§
- âœ… æä¾›åŒæ­¥æ¥å£ï¼Œç„¡éœ€ä¿®æ”¹ç¾æœ‰ä»£ç¢¼
- âœ… å®Œæ•´çš„éŒ¯èª¤è™•ç†å’Œå‚™ç”¨æ–¹æ¡ˆ
- âœ… æ‰€æœ‰æ¸¬è©¦é€šé

é€™ç‚ºå¾ŒçºŒçš„åŠŸèƒ½æ“´å±•å’Œæ”¹é€²å¥ å®šäº†è‰¯å¥½çš„åŸºç¤ï¼ŒåŒæ™‚ä¿æŒäº†ä»£ç¢¼çš„ç°¡æ½”æ€§å’Œå¯ç¶­è­·æ€§ã€‚

---

**å‰µå»ºæ™‚é–“**ï¼š2024å¹´
**ç‹€æ…‹**ï¼šâœ… Parlant SDK æ•´åˆå®Œæˆ
**ä¸‹ä¸€æ­¥**ï¼šå¯é¸ - é‹è¡Œå®Œæ•´çš„ Parlant Server æˆ–æ•´åˆæ›´å¤šåŠŸèƒ½

